# 1.编译过程
C/C++的程序需要经过编译器等编译成二进制程序才能被计算机使用。这个过程中包括有`预处理(Preprocessing)，编译(Compilation)，汇编(Assemble)，链接(Link)。`
![[Pasted image 20240710141431.png]]
- **预处理**：预处理阶段主要处理一些预处理指令，比如文件包括、宏定义、条件编译。将#include头文件替换成指定的程序，将宏定义替换成真正的内容。如果存在条件编译则通过条件选择性编译代码，标识符为`#ifdef` `#ifndef` `#if` `#else` `#endif`通过查看宏是否定义或者条件是否满足来选择性编译。渔船里还会删除所有注释，保留`#pragma`编译器指令。通过预处理会得到最后真正需要编写的代码。
- **编译**：编译阶段进行语法分析、词法分析和语义分析，并且将代码优化后产生相应的汇编代码文件（ASCLL文件），即`.s`文件。只手写汇编语言的时候，原文件保存的形式是`.S`，他在编译的过程中也需要通过预处理和汇编两个步骤，而在这里产生的`.s`则不需要进行预处理步骤，在一起嵌入式开发中，也存在着`.s`文件。通过这一步将C语言这样的高级语言转换成为了汇编语言。
- **汇编**：通过不同平台(Windows、Linux)的汇编器将汇编代码翻译成机器码，即生成二进制可重定向文件`.o`。虽然存储形式上，`.o`文件作为elf格式存储，elf是为可执行格式，但是由于符号引用和符号定义并未完全包含在一个源文件中，这些未被包含的只有虚拟地址，无法被执行
- **链接**：
>[!NOTE] 在C/C++中有一些预定义的宏，可以拿来直接用:
>```
>__FUNTION__  获取当前函数名 
__LINE__ 获取当前代码行号 
__FILE__ 获取当前文件名 
__DATE__ 获取当前日期 
__TIME__ 获取当前时间
__STDC_VERSION__  获取当前编译器的版本
>```

> [!QUOTE] GNU项目：
> GCC 是 GNU（GNU 是GNU's Not Unix 的缩写）项目开发出来的众多有用工具之一。GNU 项目是 1984 年由 Richard Stallman 发起的一个免税的慈善项目。该项目的目标非常宏大，就是开发出一个完整的类 Unix 的系统，其源代码能够不受限制地被修改和传播。GNU 项目已经开发出了一个包含 Unix 操作系统的所有主要部件的环境，但内核除外，内核是由 Linux 项目独立发展而来的。GNU 环境包括 EMACS 编辑器、GCC 编译器、GDB 调试器、汇编器、链接器、处理二进制文件的工具以及其他一些部件。GCC 编译器已经发展到支持许多不同的语言，能够为许多不同的机器生成代码。支持的语言包括 C、C++、Fortran、Java、Pascal、面向对象 C 语言（Objective-C）和 Ada。
> 
> GNU 项目取得了非凡的成绩，但是却常常被忽略。现代开放源码运动（通常和 Linux 联系在一起）的思想起源是 GNU 项目中自由软件（free software）的概念。Linux 如此受欢迎在很大程度上还要归功于 GNU 工具，它们给 Linux 内核提供了环境。



## 编译
## 汇编
## 链接
# 2.